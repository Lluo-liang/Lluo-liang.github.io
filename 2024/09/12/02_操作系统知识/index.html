

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/Xbox%20L.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Luo QI">
  <meta name="keywords" content="">
  
    <meta name="description" content="操作系统知识">
<meta property="og:type" content="article">
<meta property="og:title" content="操作系统知识">
<meta property="og:url" content="https://varcel.luoqi.icu/2024/09/12/02_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86/index.html">
<meta property="og:site_name" content="轻松的洛亓">
<meta property="og:description" content="操作系统知识">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/20241002203952.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/fc91e36be89335389d25459e5b84134b_MD5.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/7fb11113b16faf8b872591ab44db4fe4_MD5.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/779ef5c71eb95ad6caacce47a802a998_MD5.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230902164103.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230902164922.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230902165402.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230902180949.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230902181634.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230902210327.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/20230909-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/4-720230909-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230905232507.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/1-720230909-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/2-720230909-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/3-720230909-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230905232347.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/5-720230909-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230905232307.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/e6092dc7591e35b3396a23eca9b14a8e_MD5.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/bc65a33c6d2b3c157ad83e140c87cb42_MD5.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/3ea69ae9b9c1fa7caa37f67e35ad7204_MD5.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/1-720230910-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/186ab231c21c70f41fc23e8f18e4d9b6_MD5.png">
<meta property="og:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/c3a22adcbc080791022d81ee80e861c4_MD5.png">
<meta property="article:published_time" content="2024-09-12T23:45:20.000Z">
<meta property="article:modified_time" content="2024-09-12T23:45:20.000Z">
<meta property="article:author" content="Luo QI">
<meta property="article:tag" content="备考&#x2F;软考">
<meta property="article:tag" content="计算机&#x2F;操作系统">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/20241002203952.png">
  
  
  
  <title>操作系统知识 - 轻松的洛亓</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"varcel.luoqi.icu","root":"/","version":"1.9.5-a","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  <meta name="baidu-site-verification" content="codeva-Oq0KOjHuD3" />
<meta name="generator" content="Hexo 7.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>轻松的洛亓</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/202311131716524.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="操作系统知识"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-09-12 23:45" pubdate>
          2024年9月12日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          12k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          100 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">操作系统知识</h1>
            
            
              <div class="markdown-body">
                
                <figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">历年真题情况：<br>历年真题考情：本章节<span class="hljs-strong">**每年都考3-5分左右。**</span><br>第二版更新：严格来说在第二版教材上对应2.3.2，但是改版后的教材描述的太少了，只有基本概念，而根据历年真题来看，还是需要掌握原有的全部内容。<br><br>进程管理<br><span class="hljs-bullet">- </span>操作系统概述<br><span class="hljs-bullet">- </span>进程组成和状态<br><span class="hljs-bullet">- </span>前趋图<br><span class="hljs-bullet">- </span>进程同步与互斥<br><span class="hljs-bullet">- </span>进程调度<br><span class="hljs-bullet">- </span>死锁<br><span class="hljs-bullet">- </span>线程<br><br>存储管理<br><span class="hljs-bullet">- </span>分页存储管理<br><span class="hljs-bullet">- </span>分区存储管理<br><span class="hljs-bullet">- </span>分段存储管理<br><span class="hljs-bullet">- </span>段页式存储管理<br><br>设备管理<br><span class="hljs-bullet">- </span>设备管理概述<br><span class="hljs-bullet">- </span>I/0软件<br><span class="hljs-bullet">- </span>设备管理技术<br><br>文件管理<br><span class="hljs-bullet">- </span>文件管理概述<br><span class="hljs-bullet">- </span>索引文件结构<br><span class="hljs-bullet">- </span>文件目录<br><span class="hljs-bullet">- </span>文件存储空间管理<br><br><br>较为重要：分页存储，I/O 软件<br></code></pre></td></tr></table></figure>



<h3 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h3><h4 id="操作系统概述"><a href="#操作系统概述" class="headerlink" title="操作系统概述"></a>操作系统概述</h4><p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/20241002203952.png" srcset="/img/loading.gif" lazyload alt="image.png|400"></p>
<h5 id="操作系统定义"><a href="#操作系统定义" class="headerlink" title="操作系统定义"></a>操作系统定义</h5><p>操作系统定义：能有效地组织和管理系统中的各种软&#x2F;硬件资源，合理地组织计算机系统工作流程，控制程序的执行，并且向用户提供一个良好的工作环境和友好的接口。</p>
<p>操作系统有<strong>三个重要的作用：</strong></p>
<ul>
<li>第一，管理计算机中运行的程序和分配各种软硬件资源；</li>
<li>第二，为用户提供友善的人机界面。</li>
<li>第三，为应用程序的开发和运行提供一个高效率的平台。</li>
</ul>
<p>操作系统的4个特征是<strong>并发性、共享性、虚拟性和不确定性。</strong></p>
<hr>
<p>并发和并行的区别：并发是宏观的，并行是微观的；CPU:  分时调度；</p>
<p>并发：宏观上是并发的，程序在微观上是串行（每个 XX ms 到下一个调度，整体上看是并发）</p>
<h5 id="操作系统的功能"><a href="#操作系统的功能" class="headerlink" title="操作系统的功能"></a>操作系统的功能</h5><ul>
<li>(1)<strong>进程管理。</strong> 实质上是对处理机(CPU)  的执行“时间”进行管理，采用多道程序等技术将CPU的时间合理地分配给每个任务，主要包括进程控制、进程同步、进程通信和进程调度。</li>
<li>(2)<strong>文件管理</strong>。主要包括文件存储空间管理、目录管理、文件的读&#x2F;写管理和存取控制。</li>
<li>(3)<strong>存储管理</strong>。存储管理是对主存储器“空间”进行管理，主要包括存储分配与回收、存储保护、地址映射（变换）和主存扩充。</li>
<li>(4)<strong>设备管理</strong>。实质是对硬件设备的管理，包括对输入&#x2F;输出设备的分配、启动、完成和回收。</li>
<li>(5)<strong>作业管理</strong>。包括任务、界面管理、人机交互、图形界面、语音控制和虚拟现实等。</li>
</ul>
<h5 id="操作系统的分类-☆"><a href="#操作系统的分类-☆" class="headerlink" title="操作系统的分类  ☆"></a>操作系统的分类  ☆</h5><ul>
<li><strong>批处理操作系统</strong>：单道批处理和多道批处理（主机与外设可并行）</li>
<li><strong>分时操作系统</strong>：一个计算机系统与多个终端设备连接。将CPU的工作时间划分为许多很短的时间片，<strong>轮流为</strong>各个终端的用户服务。</li>
<li><strong>实时操作系统</strong>：实时是指计算机对于外来信息能够以足够快的速度进行处理，并在<strong>被控对象允许</strong>的时间范围内做出快速反应。实时系统对交互能力要求不高，但要求可靠性有保障。</li>
<li><strong>网络操作系统</strong>：是使联网计算机能方便而有效地共享网络资源，为网络用户提供各种服务的软件和有关协议的集合。三种模式：<strong>集中模式、客户端&#x2F;服务器模式、对等模式。</strong></li>
<li><strong>分布式操作系统</strong>：分布式计算机系统是由多个分散的计算机经连接而成的计算机系统，系统中的计算机无主、次之分，任意两台计算机可以通过通信交换信息。</li>
<li><strong>微型计算机操作系统</strong>：简称微机操作系统，常用的有Windows、Mac OS、Linux。</li>
</ul>
<h5 id="嵌入式操作系统"><a href="#嵌入式操作系统" class="headerlink" title="嵌入式操作系统"></a>嵌入式操作系统</h5><p>嵌入式操作系统主要特点：</p>
<ul>
<li>(1)<strong>微型化</strong>。从性能和成本角度考虑，希望占用的资源和系统代码量少，如内存少、字长短、运行速度有限、能源少（用微小型电池）</li>
<li>(2)<strong>可定制</strong>。从减少成本和缩短研发周期考虑，要求嵌入式操作系统能运行在不同的微处理器平台上，能针对硬件变化进行结构与功能上的配置，以满足不同应用需要。</li>
<li>(3)<strong>实时性</strong>。嵌入式操作系统主要应用于过程控制、数据采集、传输通信、多媒体信息及关键要害领域需要迅速响应的场合，所以对实时性要求较高。</li>
<li>(4)<strong>可靠性</strong>。系统构件、模块和体系结构必须达到应有的可靠性，对关键要害应用还要提供容错和防故障措施。</li>
<li>(5)<strong>易移植性</strong>。为了提高系统的易移植性，通常采用硬件抽象层和板级支撑包的底层设计技术。</li>
</ul>
<p>嵌入式系统<strong>初始化过程</strong>按照自底向上、从硬件到软件的次序依次为：<strong>片级初始化→板级初始化→系统初始化</strong>。</p>
<h4 id="进程组成和状态"><a href="#进程组成和状态" class="headerlink" title="进程组成和状态"></a>进程组成和状态</h4><ul>
<li>进程的组成<ul>
<li>PCB</li>
<li>程序</li>
<li>数据</li>
</ul>
</li>
<li>进程的状态<ul>
<li>运行<ul>
<li>运行  →  就绪（时间片到）</li>
<li>运行  →  阻塞（等待某事件）</li>
</ul>
</li>
<li>阻塞<ul>
<li>阻塞 → 就绪（等待的事件发生）</li>
</ul>
</li>
<li>就绪<ul>
<li>就绪 →  运行（被调度）</li>
</ul>
</li>
</ul>
</li>
<li></li>
</ul>
<p><strong>进程的组成</strong>：进程控制块PCB(唯一标志)、程序（描述进程要做什么）、数据（存放进程执行时所需数据）。</p>
<p>进程基础的状态是下左图中的<strong>三态图</strong>。需要<strong>熟练掌握左下图中的进程三态之间的转换。</strong><br><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/fc91e36be89335389d25459e5b84134b_MD5.png" srcset="/img/loading.gif" lazyload alt="fc91e36be89335389d25459e5b84134b_MD5"></p>
<hr>
<p>考试真题：</p>
<p>在单处理机系统中，采用先来先服务调度算法。系统中有4个进程P1、P2、P3、P4(假设进程按此顺序到达)，</p>
<p>其中P1为运行状态，P2为就绪状态，P3和P4为等待状态，且P3等待打印机，P4等待扫描仪。若P1（  ),则P1、P2、P3和P4的状态应分别为(  )。</p>
<ul>
<li><p>A.时间片到</p>
</li>
<li><p>B.释放了扫描仪</p>
</li>
<li><p>C.释放了打印机</p>
</li>
<li><p>D.已完成</p>
</li>
<li><p>A.等待、就绪、等待和等待</p>
</li>
<li><p>B.运行、就绪、运行和等待</p>
</li>
<li><p>C.就绪、运行、等待和等待</p>
</li>
<li><p>D.就绪、就绪、等待和运行</p>
</li>
</ul>
<p>答案：A   C</p>
<p>解析：P1处于运行状态，那么对应于它的操作就是时间片到，P1进入就绪状态。而此时，P3和P4 都处于等待状态，都在等待除了CPU之外的其他事物，它们等待的事物并没有到，所以还是处于等待状态，或阻塞状态。P2此时是就绪状态，获得了P1释放的CPU,进入运行状态。</p>
<p>对于 P1 来说，它的状态转换有 运行 → 阻塞 或者 运行 → 就绪；这里不存在所谓的 P1 释放什么资源，排除 B  C ；选择 A。</p>
<hr>
<h4 id="前趋图"><a href="#前趋图" class="headerlink" title="前趋图"></a>前趋图</h4><p>用来表示哪些任务可以并行执行，哪些任务之间有顺序关系，具体如下图：</p>
<p>可知，A  B   C可以并行执行，但是必须A   B    C都执行完后，才能执行D,这就确定了两点：<strong>任务间的并行、任务间的先后顺序</strong>。</p>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/7fb11113b16faf8b872591ab44db4fe4_MD5.png" srcset="/img/loading.gif" lazyload alt="7fb11113b16faf8b872591ab44db4fe4_MD5"></p>
<h5 id="进程资源图"><a href="#进程资源图" class="headerlink" title="进程资源图"></a>进程资源图</h5><p>用来表示<strong>进程和资源之间的分配和请求关系</strong>，如下图所示：</p>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/779ef5c71eb95ad6caacce47a802a998_MD5.png" srcset="/img/loading.gif" lazyload alt="779ef5c71eb95ad6caacce47a802a998_MD5"></p>
<p><strong>P代表进程，R代表资源</strong>，<br>R 方框中有几个圆球就表示有几个这种资源，在上图中，R1指向P1, 表示R1有一个资源已经分配给了P1, P1指向R2, 表示P1还需<br>要请求一个R2资源才能执行。</p>
<ul>
<li>阻塞节点：某进程<strong>所请求的资源已经全部分配完毕</strong>，无法获取所需资源，该进程被阻塞了无法继续。<strong>如上图中P2。</strong></li>
<li>非阻塞节点：某进程<strong>所请求的资源还有剩余</strong>，可以分配给该进程继续运行。如上图中<strong>P1、P3。</strong></li>
<li>当一个进程资源图中<strong>所有进程都是阻塞节点时，即陷入死锁状态。</strong></li>
</ul>
<p>进程资源图可以判断进程是否陷入死锁</p>
<hr>
<p>考试真题：</p>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230902164103.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20230902164103"></p>
<p>答案：  C     B</p>
<p>解析：进程资源图化简的方法是：先看系统还剩下多少资源没分配，再看有哪些进程是不阻塞的，接着把不阻塞的进程的所有边都去掉，形成一个孤立的点，再把系统分配给这个进程的资源回收回来，这样，系统剩余的空闲资源便多了起来，接着又去看看剩下的进程有哪些是不阻塞的，然后又把它们逐个变成孤立的点。<br>最后，所有的资源和进程都变成孤立的点。图中P3是不阻塞的，故P3为化简图的开始，把P3孤立，再回收分配给他的资源，可以看到P1也变为不阻塞节点了，故P3、P1、P2是可以的。</p>
<h4 id="进程同步与互斥-☆"><a href="#进程同步与互斥-☆" class="headerlink" title="进程同步与互斥  ☆"></a>进程同步与互斥  ☆</h4><p><strong>基础概念</strong></p>
<p>临界资源：<strong>各进程间需要以互斥方式对其进行访问</strong>的资源。<br>临界区：指进程中<strong>对临界资源实施操作的那段程序</strong>。本质是一段程序代码，</p>
<p>互斥：某资源（即临界资源）<strong>在同一时间内只能由一个任务单独使用</strong>，使用时需要加锁，使用完后解锁才能被其他任务使用；如打印机。<br>同步：<strong>多个任务可以并发执行，只不过有速度上的差异</strong>，在一定情况下停下等待，不存在资源是否单独或共享的问题；如自行车和汽车。</p>
<p>互斥信号量：对临界资源采用互斥访问，使用互斥信号量后其他进程无法访问，<strong>初值为1。</strong><br>同步信号量：对共享资源的访问控制，<strong>初值一般是共享资源的数量。</strong></p>
<p><strong>P 操作：申请资源，S&#x3D;S-1</strong> ,若S&gt;&#x3D;0,则执行P操作的进程继续执行；若S&lt;0,则置该进程为阻塞状态（因为无可用资源），并将其插入阻塞队列。<br>**V操作：释放资源，S&#x3D;S+1,** 若S&gt;0,则执行V操作的进程继续执行；若S&lt;&#x3D;0,则从阻塞状态唤醒一个进程，并将其插入就绪队列（此时因为缺少资源被P操作阻塞的进程可以继续执行）：然后执行V操作的进程继续。<br><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230902164922.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20230902164922"><br>经典问题：生产者和消费者的问题</p>
<p>三个信号量：互斥信号量S0(（仓库独立使用权)，同步信号量S1(仓库空闲个数)，同步信号量S2（仓库商品个数）。</p>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230902165402.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20230902165402"></p>
<ol>
<li><p>生产一个商品 S</p>
</li>
<li><p>申请仓库的使用权  P(S0)</p>
</li>
<li><p>申请一个仓库的空闲位置</p>
</li>
<li><p>将商品放入仓库中</p>
</li>
<li><p>仓库中商品个数 + 1</p>
</li>
<li><p>仓库使用权释放</p>
</li>
<li><p>申请仓库的使用权</p>
</li>
<li><p>仓库中商品个数 - 1</p>
</li>
<li><p>取出一个商品</p>
</li>
<li><p>申请一个仓库空闲位置</p>
</li>
<li><p>仓库使用权释放</p>
</li>
</ol>
<hr>
<p>考试真题：</p>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230902180949.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20230902180949"></p>
<p>答案： C   B    B</p>
<p>解析：这种题型常考，并且也很简单。五个信号量对应前趋图上五根连线。</p>
<hr>
<p>第二题：</p>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230902181634.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20230902181634"></p>
<p>答案： C       B      D</p>
<hr>
<h4 id="进程调度"><a href="#进程调度" class="headerlink" title="进程调度"></a>进程调度</h4><p>进程调度方式是指<strong>当有更高优先级的进程到来时如何分配CPU</strong>。分为<strong>可剥夺和不可剥夺两种</strong>，可剥夺指当有更高优先级进程到来时，强行将正在运行进程的 CPU分配给高优先级进程；不可剥夺是指高优先级进程必须等待当前进程自动释放CPU。</p>
<p>在某些操作系统中，一个作业从提交到完成需要经历高、中、低三级调度。</p>
<ul>
<li>(1)高级调度。高级调度又称“长调度”“作业调度”或“接纳调度”，它决定<strong>处于输入池中的哪个后备作业可以调入主系统做好运行的准备</strong>，成为一个或一组就绪进程。在系统中一个作业只需经过一次高级调度。</li>
<li>(2)中级调度。中级调度又称“中程调度”或“对换调度”，它决定<strong>处于交换区中的哪个就绪进程可以调入内存</strong>，以便直接参与对CPU的竞争。</li>
<li>(3)低级调度。低级调度又称“短程调度”或“进程调度”，它决定<strong>处于内存中的哪个就绪进程可以占用CPU</strong>。低级调度是操作系统中最活跃、最重要的调度程序，对系统的影响很大。</li>
</ul>
<p>调度算法：</p>
<ul>
<li><strong>先来先服务FCFS</strong>：先到达的进程优先分配CPU。用于宏观调度。</li>
<li><strong>时间片轮转</strong>：分配给每个进程CPU时间片，轮流使用CPU,每个进程时间片大小相同，很公平，用于微观调度。</li>
<li><strong>优先级调度</strong>：每个进程都拥有一个优先级，优先级大的先分配CPU。</li>
<li><strong>多级反馈调度</strong>：时间片轮转和优先级调度结合而成，设置多个就绪队列 1,2,3 … n,每个队列分别赋予不同的优先级，分配不同的时间片长度；新进程先进入队列1 的末尾，按FCFS原则，执行队列1的时间片；若未能执行完进程，则转入队列2的末尾，如此重复。</li>
</ul>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230902210327.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20230902210327"></p>
<h4 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h4><p>当一个进程在等待永远不可能发生的事件时，就会产生死锁，若系统中有多个进程处于死锁状态，就会造成系统死锁。</p>
<p>死锁产生的四个必要条件：<strong>资源互斥、每个进程占有资源并等待其他资源、系统不能剥夺进程资源、进程资源图是一个环路</strong>。</p>
<p>死锁产生后，<strong>解决措施是打破四大条件</strong>，有下列方法：</p>
<ul>
<li><strong>死锁预防</strong>：采用某种策略限制并发进程对于资源的请求，破坏死锁产生的四个条件之一，使系统任何时刻都不满足死锁的条件。</li>
<li><strong>死锁避免</strong>：一般采用银行家算法来避免，银行家算法，就是提前计算出一条不会死锁的资源分配方法，才分配资源，否则不分配资源，相当于借贷，考虑对方还得起才借钱，提前考虑好以后，就可以避免死锁。</li>
<li><strong>死锁检测</strong>：允许死锁产生，但系统定时运行一个检测死锁的程序，若检测到系统中发生死锁，则设法加以解除：</li>
<li><strong>死锁解除</strong>：即死锁发生后的解除方法，如强制剥夺资源，撤销进程等。</li>
</ul>
<p><strong>死锁资源计算</strong>：系统内有n个进程，每个进程都需要个资源，那么其<em><em>发生死锁的最大资源数为n</em>(R-1)。其不发生死锁的最小资源数为n</em>(R-1)+1**。</p>
<hr>
<p>考试真题</p>
<p>第一题：</p>
<p>某系统中有3个并发进程竞争资源R,每个进程都需要5个R,那么至少有(  )个R,才能保证系统不会发生死锁。</p>
<ul>
<li>A.12</li>
<li>B.13</li>
<li>C.14</li>
<li>D.15</li>
</ul>
<p>答案：B</p>
<p>解析：每个进程需要5个R才能执行，则当每个进程都只有4个R时是死锁最坏的情况，即3 * 4&#x3D;12个资源是死锁发生的最大资源数，再加1就能保证不发生死锁，因此是13。</p>
<hr>
<p>第二题：</p>
<p>假设系统中有个进程共享3台打印机，任一进程在任一时刻最多只能使用1台打印机。若用PV操作控制 n 个进程使用打印机，则相应信号量S的取值范围为(  )；若信号量S的值为 -3，则系统中有(   )个进程等待使用打印机。</p>
<ul>
<li><p>A. 0, -1 , …, -(n-1)</p>
</li>
<li><p>B. 3,2,1,0,-1, -(n-3)</p>
</li>
<li><p>C. 1,0,-1, …, -(n-1)</p>
</li>
<li><p>D. 2 ,1,0, -1,,-(n-2)</p>
</li>
<li><p>A .0</p>
</li>
<li><p>B. 1</p>
</li>
<li><p>C. 2</p>
</li>
<li><p>D. 3</p>
</li>
</ul>
<p>答案：   B  D</p>
<hr>
<p>第三题：</p>
<p>银行家算法真题：</p>
<p>假设系统中有三类互斥资源R1、R2和R3,可用资源数分别为 10、5 和 3。</p>
<p>在T0 时刻系统中 有P1、P2、P3、P4 和 P5五个进程，这些进程对资源的最大需求和已分配资源数如下表所示，<br><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/20230909-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86.png" srcset="/img/loading.gif" lazyload alt="20230909-系统架构设计师_操作系统知识"></p>
<p>此时系统剩余的可用资源数分别为(27)。如果进程按(28)序列执行，那么系统状态是安全的。</p>
<ul>
<li><p>A. 1、1和  0</p>
</li>
<li><p>B. 1、1和  1</p>
</li>
<li><p>C. 2、1和 0</p>
</li>
<li><p>D. 2、0和 1</p>
</li>
<li><p>A.P1-P2-P4-P5一P3</p>
</li>
<li><p>B.P5-P2-P4-P3一P1</p>
</li>
<li><p>C.P4-P2-P1-P5-P3</p>
</li>
<li><p>D.P5-P1-P4-P2-P3</p>
</li>
</ul>
<p>答案：D  B</p>
<p>解析：第一问直接相减；第二问通过余数 + 已分配 能够满足最大需求，这里最开始只有 P5 能够满足，排除 A C;<br>P5 后 有 3 1  1；P 1 不满足，排除 D； 选择 B</p>
<h4 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h4><p>传统的进程有两个属性：可拥有资源的独立单位；<strong>可独立调度和分配的基本单位</strong>。</p>
<p>引入线程的原因是进程在创建、撤销和切换中，系统必须为之付出较大的时空开销，故在系统中<strong>设置的进程数目不宜过多</strong>，进程切换的频率不宜太高，这<br>就限制了并发程度的提高。引入线程后，将传统进程的两个基本属性分开，<strong>线程作为调度和分配的基本单位</strong>，<strong>进程作为独立分配资源的单位</strong>。用户可以通过<br>创建线程来完成任务，以减少程序并发执行时付出的时空开销。</p>
<p>线程是进程中的一个实体，是被系统独立分配和调度的基本单位。<strong>线程基本上不拥有资源，只拥有一点运行中必不可少的资源</strong>（如程序计数器、一组寄存<br>器和栈)，它可与同属一个进程的其他线程<strong>共享进程所拥有的全部资源</strong>，例如进程的公共数据、全局变量、代码、文件等资源，但不能共亨线程独有的资源，如线程的栈指针等标识数据。</p>
<h3 id="存储管理"><a href="#存储管理" class="headerlink" title="存储管理"></a>存储管理</h3><ul>
<li>分区存储管理<ul>
<li>固定分区</li>
<li>可变分区<ul>
<li>首次适应法</li>
<li>最佳适应法</li>
<li>最差适应法</li>
<li>循环首次适应法</li>
</ul>
</li>
<li>可重定位分区</li>
</ul>
</li>
<li>分页存储管理<ul>
<li>逻辑页分为页号和页内地址；通过查询页表，得知页号对应的物理块号</li>
<li>页面置换算法<ul>
<li>最优算法</li>
<li>先进先出蒜贩</li>
<li>最近最少使用</li>
<li>淘汰原则</li>
</ul>
</li>
<li>快表</li>
</ul>
</li>
<li>分段存储管理<ul>
<li>根据段长和基址两个属性 →  逻辑段在物理段的位置</li>
</ul>
</li>
<li>段页式存储管理<ul>
<li>先分段，后分页</li>
</ul>
</li>
</ul>
<h4 id="分区存储管理"><a href="#分区存储管理" class="headerlink" title="分区存储管理"></a>分区存储管理</h4><p>所谓分区存储组织，就是<strong>整存，将某进程运行所需的内存整</strong>体一起分配给它，然后再执行。</p>
<p>有三种分区方式：</p>
<ul>
<li><strong>固定分区</strong>：静态分区方法，将主存分为若干个固定的分区，将要运行的作业装配进去，由于分区固定，大小和作业需要的大小不同，会产生内部碎片。</li>
<li><strong>可变分区</strong>：动态分区方法，主存空间的分区是在作业转入时划分，正好划分为作业需要的大小，这样就不存在内部碎片，但容易将整片主存空间切割成许多块，会产生外部碎片。</li>
<li><strong>可重定位分区</strong>：可以解决碎片问题，移动所有已经分配好的区域，使其成为一个连续的区域，这样其他外部细小的分区碎片可以合并为大的分区，满足作业要求。只在外部作业请求空间得不到满足时进行。</li>
</ul>
<p>可变分区的算法如下：系统分配内存的算法有很多，如下图所示，根据分配前的内存情况，还需要分配9K空间，对不同算法的结果介绍如下：</p>
<ul>
<li>首次适应法：按内存地址顺序从头查找，找到第一个&gt;&#x3D;9K空间的空闲块，即切割9K空间分配给进程。</li>
<li>最佳适应法：将内存中所有空闲内存块按从小到大排序，找到第一个&gt;&#x3D; 9K空间的空闲块，切割分配，这个将会找到与9K空间大小最相近的空闲块。</li>
<li>最差适应法：和最佳适应法相反，将内存中空闲块空间最大的，切割9K空间分配给进程，这是为了预防系统中产生过多的细小空闲块。</li>
<li>循环首次适应法：按内存地址顺序查找，找到第一个&gt;&#x3D;9K空间的空闲块，而后若还需分配，则找下一个，不用每次都从头查找，这是与首次适应法不同的地方</li>
</ul>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/4-720230909-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86.png" srcset="/img/loading.gif" lazyload alt="4-720230909-系统架构设计师_操作系统知识"></p>
<h4 id="分页存储管理"><a href="#分页存储管理" class="headerlink" title="分页存储管理"></a>分页存储管理</h4><p><strong>逻辑页分为页号和页内地址</strong>，页内地址就是物理偏移地址，而页号与物理块号并非按序对应的，需要查询页表，才能得知页号对应的物理块号，再用物理块<br>号加上偏移地址才得出了真正运行时的物理地址。</p>
<p>优点：利用率高，碎片小，分配及管理简单。<br>缺点：增加了系统开销，可能产生抖动现象</p>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230905232507.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20230905232507"></p>
<h5 id="页面置换算法"><a href="#页面置换算法" class="headerlink" title="页面置换算法"></a>页面置换算法</h5><p>页面置换算法</p>
<ul>
<li><strong>最优算法</strong>：OPT,理论上的算法，无法实现，是在进程执行完后进行的最佳效率计算，用来让其他算法比较差距。原理是选择未来最长时间内不被访问的页面置换，这样可以保证未来执行的都是马上要访问的。</li>
<li><strong>先进先出算法</strong>：FIFO,先调入内存的页先被置换淘汰，会产生<strong>抖动现象</strong>，即分配的页数越多，缺页率可能越多（即效率越低）.</li>
<li><strong>最近最少使用</strong>：LRU, 在最近的过去，进程执行过程中，过去最少使用的页面被置换淘汰，根据局部性原理，这种方式效率高，且不会产生抖动现象，使用大量计数器，但是没有LFU多。</li>
<li><strong>淘汰原则</strong>：优先淘汰最近未访问的，而后淘汰最近未被修改的页面。</li>
</ul>
<h5 id="快表"><a href="#快表" class="headerlink" title="快表"></a>快表</h5><p>快表<br>是一块<strong>小容量的相联存储器</strong>，由快速存储器组成，按内容访问，速度快，并且可以从硬件上保证按内容并行查找，一般用来存放当前访问最频繁的少数活动页面的页号。</p>
<p>快表是将页表<strong>存于Cache中</strong>；慢表是将页表存于内存上。慢表需要访问两次内存才能取出页，而快表是访问一次Cache和一次内存，因此更快。</p>
<hr>
<p>考试真题：</p>
<p>第一题：<br><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/1-720230909-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86.png" srcset="/img/loading.gif" lazyload alt="1-720230909-系统架构设计师_操作系统知识"></p>
<p>答案：B</p>
<p>解析：页面大小为4K,则页内偏移地址为12位，才能表示4K大小空间；</p>
<p>由此，可知逻辑地址 1D16H的低12位 D16H为偏移地址，高4位1为逻辑页号，在页表中对应物理块号3，因此物理地址<br>为3D16H。</p>
<hr>
<p>第二题：</p>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/2-720230909-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86.png" srcset="/img/loading.gif" lazyload alt="2-720230909-系统架构设计师_操作系统知识"></p>
<p>答案：D</p>
<p>解析：根据局部性原理，应该优先淘汰最近未被访问过的，而后淘汰最近未被修改过的，由页表可知，023最近都被访问过，而只有3最近未被修改过，应该淘汰3。<br>然而其实这种题目，就算不知道上述原理，也能做出，答案只有一个，肯定是与其他不同的，具有唯一性的一个，在023中，02的访问位和修改位一样，只有3不同，答案就是3. </p>
<p>大致可以结合上述解析和下面这个理解</p>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/3-720230909-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86.png" srcset="/img/loading.gif" lazyload alt="3-720230909-系统架构设计师_操作系统知识"></p>
<hr>
<h4 id="分段存储管理"><a href="#分段存储管理" class="headerlink" title="分段存储管理"></a>分段存储管理</h4><p>将进程空间分为一个个段，<strong>每段也有段号和段内地址，</strong> 与页式存储不同的是，每段物理大小不同，分段是根据逻辑整体分段的，</p>
<p>因此，段表也与页表的内容不同，页表中直接是逻辑页号对应物理块号，而下图所示，<strong>段表有段长和基址两个属性</strong>，才能确定一个逻辑段在物理段中的位置。<br><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230905232347.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20230905232347"></p>
<p>优点：多道程序共享内存，各段程序修改互不影响。</p>
<p>缺点：内存利用率低，内存碎片浪费大。</p>
<hr>
<p>考试真题：</p>
<p>第一题：</p>
<p>设某进程的段表如下所示，逻辑地址(   )可以转换为对应的物理地址。</p>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/5-720230909-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86.png" srcset="/img/loading.gif" lazyload alt="5-720230909-系统架构设计师_操作系统知识"></p>
<ul>
<li>A. (0,1597)、(1,30)和 (3,1390)</li>
<li>B. (0,128)、  (1,30)和 (3,1390)</li>
<li>C. (0,1597)、(2,98)和 (3,1390)</li>
<li>D. (0,128)、  (2,98)和 (4,1066)</li>
</ul>
<p>答案：B</p>
<p>解析：<br>0 段的段长只有600，而逻辑地址(0,1597)中的1597已经越界，不能转换成逻辑地址，而选项A和选项C中都包含逻辑地址(0, 1597) 所以是错误的。<br>又因为4段的段长只有960，而逻辑地址(4,1066)中的1066已经越界，也不能转换成逻辑地址，而选项D中包含逻辑地址(4,1066)所以是错误的。</p>
<p>这里看逻辑地址判断的话，看表中的段长就可以了，物理地址是根据基地址和段长两个属性来确定的。<br>这里段号0，范围是 (0, 0 ~ 600) 其他页这样看范围内容，因此选择 B。</p>
<h4 id="段页式存储管理"><a href="#段页式存储管理" class="headerlink" title="段页式存储管理"></a>段页式存储管理</h4><p>对进程空间<strong>先分段，后分页</strong>，具体原理图和优缺点如下：</p>
<ul>
<li>优点：空间浪费小、存储共享容易、存储保护容易、能动态链接。</li>
<li>缺点：由于管理软件的增加，复杂性和开销也随之增加，需要的硬件以及占用的内容也有所增加，使得执行速度大大下降。</li>
</ul>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/Pasted%20image%2020230905232307.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20230905232307"></p>
<h3 id="设备管理"><a href="#设备管理" class="headerlink" title="设备管理"></a>设备管理</h3><h4 id="设备管理概述"><a href="#设备管理概述" class="headerlink" title="设备管理概述"></a>设备管理概述</h4><p>设备是<strong>计算机系统与外界交互的工具</strong>，具体负责<strong>计算机与外部的输入&#x2F;输出工作，所以常称为外部设备（简称外设）</strong>。在计算机系统中，将负责管理设备和输入输出的机构称为&#x2F;O系统。因此，I&#x2F;O系统由设备、控制器、通道（具有通道的计算机系统)、总线和 I&#x2F;0软件组成：</p>
<p>设备的分类：</p>
<ul>
<li><strong>按数据组织分类</strong>：块设备、字符设备。</li>
<li><strong>按照设备功能分类</strong>：输入设备、输出设备、存储设备、网络联网设备、供电设备。</li>
<li><strong>资源分配角度分类</strong>：独占设备、共享设备和虚拟设备：</li>
<li><strong>数据传输速率分类</strong>：低速设备、中速设备、高速设备。</li>
</ul>
<p>设备管理的任务是保证在多道程序环境下，<strong>当多个进程竞争使用设备时</strong>，按一定的策略<strong>分配和管理各种设备</strong>，控制设备的各种操作，完成 I&#x2F;0设备与主存之间的数据交换。<br>设备管理的主要功能是<strong>动态地掌握并记录设备的状态</strong>、设备分配和释放、缓冲区管理、实现物理&#x2F;O设备的操作、提供设备使用的用户接口及设备的访问和控制。</p>
<h4 id="I-O-软件"><a href="#I-O-软件" class="headerlink" title="I&#x2F;O  软件"></a>I&#x2F;O  软件</h4><p>I&#x2F;O设备管理软件的所有层次及每一层功能如下图：</p>
<p>实例：当用户程序试图读一个硬盘文件时，需要通过操作系统实现这一操作。<strong>与设备无关软件检查高速缓存中有无要读的数据块</strong>，若没有，则调用设备驱动<br>程序，向 I&#x2F;O硬件发出一个请求。然后，用户进程阻塞并等待磁盘操作的完成。当磁盘操作完成时，硬件产生一个中断，转入中断处理程序。中断处理程序检查中断的原因，认识到这时磁盘<strong>读取操作已经完成，于是唤醒用户进程取回从磁盘读取的信息，从而结束此次 I&#x2F;0请求</strong>。用户进程在得到了所需的硬盘文件内容之，后继续运行。</p>
<h4 id="设备管理技术"><a href="#设备管理技术" class="headerlink" title="设备管理技术"></a>设备管理技术</h4><p>一台独占设备，在同一时间只能由一个进程使用，其他进程只能等待，且不知道什么时候打印机空闲，此时，极大的浪费了外设的工作效率。</p>
<p><strong>引入 SPOOLING (外围设备联机操作)技术</strong>，就是在外设上建立两个数据缓冲区，分别称为输入井和输出并，这样，无论多少进程，都可以共用这一台打印机，只需要将打印命令发出，数据就会排队存储在缓冲区中，打印机会自动按顺序打印，实现了物理外设的共享，<strong>使得每个进程都感觉在使用一个打印机，这就是物理设备的虚拟化</strong>，如下图所示：</p>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/e6092dc7591e35b3396a23eca9b14a8e_MD5.png" srcset="/img/loading.gif" lazyload alt="e6092dc7591e35b3396a23eca9b14a8e_MD5"></p>
<hr>
<p>考试真题</p>
<p>以下关于 I&#x2F;O 软件的叙述中，正确的是（  )</p>
<ul>
<li>A、I&#x2F;O 软件开放了 I&#x2F;O 操作实现的细节，方便用户使用 I&#x2F;O 设备</li>
<li>B、I&#x2F;O  软件隐藏了 I&#x2F;O操作实现的细节，向用户提供物理接口</li>
<li>C、I&#x2F;O 软件隐藏了 I&#x2F;O 操作实现的细节，方便用户使用I&#x2F;O设备</li>
<li>D、I&#x2F;O软件开放了 I&#x2F;O 操作实现的细节，用户可以使用逻辑地址访问 I&#x2F;O 设备</li>
</ul>
<p>答案：C</p>
<p>解析：I&#x2F;O软件隐藏了底层复杂的实现细节，只提供接口供用户方便的使用。</p>
<hr>
<h3 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h3><h4 id="文件管理概述"><a href="#文件管理概述" class="headerlink" title="文件管理概述"></a>文件管理概述</h4><p>文件是<strong>具有符号名的、在逻辑上具有完整意义的</strong>一组相关信息项的集合。</p>
<p>信息项是<strong>构成文件内容的基本单</strong>位，可以是一个字符，也可以是一个记录，记录可以等长，也可以不等长。一个文件包括文件体和文件说明。文件体是文件真实的内容。文件说明是操作系统为了管理文件所用到的信息，包括文件名、文件内部标识、文件的类型、文件存储地址、文件的长度、访问权限、建立时间和访问时间等。</p>
<p>文件管理系统，就是<strong>操作系统中实现文件统一管理的一组软件和相关数据的集合，专门负责管理和存取文件信息的软件机构，</strong> 简称文件系统。文件系统的<br>功能包括按名存取；统一的用户接口；并发访问和控制；安全性控制；优化性能；差错恢复。</p>
<p>文件的类型：</p>
<ul>
<li>(1)按文件性质和用途可将文件分为系统文件、库文件和用户文件。</li>
<li>(2)按信息保存期限分类可将文件分为临时文件、档案文件和永久文件。</li>
<li>(3)按文件的保护方式分类可将文件分为只读文件、读&#x2F;写文件、可执行文件和不保护文件。</li>
<li>(4) UNIX 系统将文件分为普通文件、目录文件和设备文件（特殊文件）。</li>
</ul>
<p>文件的逻辑结构可分为两大类：<strong>有结构的记录式文件；无结构的流式文件。</strong></p>
<p>文件的物理结构是指文件<strong>在物理存储设备上的存放方法</strong>，包括：</p>
<ul>
<li>(1)连续结构。连续结构也称顺序结构，它将逻辑上连续的文件信息（如记录）<strong>依次存放在连续编号的物理块上</strong>。</li>
<li>(2)链接结构。链接结构也称串联结构，它是将<strong>逻辑上连续的文件信息（如记录)存放在不连续的物理块上，每个物理块设有一个指针指向下一个物理块。</strong></li>
<li>(3)索引结构。将逻辑上连续的文件信息（如记录)存放在不连续的物理块中，系统为每个文件建立一张索引表。<strong>索引表记录了文件信息所在的逻辑块号对应的物理块号</strong>，并将索引表的起始地址放在与文件对应的文件目录项中。</li>
<li>(4)多个物理块的索引表。索引表是<strong>在文件创建时由系统自动建立的</strong>，并与文件一起存放在同一文件卷上。根据一个文件大小的不同，其索引表占用物理块的个数不等，一般占一个或几个物理块。</li>
</ul>
<h4 id="索引文件结构"><a href="#索引文件结构" class="headerlink" title="索引文件结构"></a>索引文件结构</h4><p>如图所示，系统中有13个索引节点，<strong>0-9为直接索引，即每个索引节点存放的是内容</strong>，假设每个物理盘大小为4KB,共可存4KB*  10&#x3D;40KB数据；</p>
<p>10号索引节点为<strong>一级间接索引节点，大小为4KB,存放的并非直接数据，而是链接到直接物理盘块的地</strong>址，假设每个地址占4B,则共有1024个地址，对应1024个物理盘，可存 1024 * 4KB&#x3D;4096KB数据。</p>
<p><strong>二级索引节点类似，直接盘存放一级地址，一级地址再存放物理盘快地址，而后链接到存放数据的物理盘块</strong>，容量又扩大了一个数量级，为1024 * 1024 * 4KB数据。</p>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/bc65a33c6d2b3c157ad83e140c87cb42_MD5.png" srcset="/img/loading.gif" lazyload alt="bc65a33c6d2b3c157ad83e140c87cb42_MD5"></p>
<p>考试真题</p>
<p>设文件索引节点中有8个地址项，每个地址项大小为4字节，其中5个地址项为直接地址索引，2个地址项是一级间接地址索引，1个地址项是二级间接地址索引，磁盘索引块和磁盘数据块大小均为1KB,</p>
<p>若要访问文件的逻辑块号分别为5 和 518，则系统应分别采用(  )，而且可表示的单个文件最大长度是 （   ) KB。</p>
<ul>
<li><p>A.直接地址索引和一级间接地址索引</p>
</li>
<li><p>B.直接地址索引和二级间接地址索引</p>
</li>
<li><p>C.一级间接地址索引和二级间接地址索引</p>
</li>
<li><p>D.一级间接地址索引和一级间接地址索引</p>
</li>
<li><p>A.517</p>
</li>
<li><p>B.1029</p>
</li>
<li><p>C.16513</p>
</li>
<li><p>D.66053</p>
</li>
</ul>
<p>答案； C   D</p>
<p>解析：依题意，有5个地址项为直接地址索引，所以直接地址索引涉及到的逻辑块号为：0-4.<br>2 个地址项为一级间接索引，每个一级间接索引结点对应的逻辑块个数为：1KB&#x2F;4B&#x3D;256个。所以一级间接索引涉及到的逻辑块号为：5516。<br>二级间接索引所对应的逻辑块号即为：517以上。可表示的单个文件长度，</p>
<p>首先计算直接地址索引，就是5个数据块，为5KB,而后一级间接地址索引，可表示256个数据块，即256KB,二级间接地址索引可存储1KB&#x2F;4B&#x3D;256个一级间接地址索引，每个一级间接地址索引又可存储256KB,因此是256 * 256KB,全部加起来共5+256 * 2+256 * 256&#x3D; 66053。</p>
<hr>
<h4 id="文件目录"><a href="#文件目录" class="headerlink" title="文件目录"></a>文件目录</h4><p>文件控制块中包含以下三类信息：基本信息类、存取控制信息类和使用信息类。</p>
<ul>
<li>(1)基本信息类。例如文件名、文件的物理地址、文件长度和文件块数等。</li>
<li>(2)存取控制信息类。文件的存取权限，像UNIX用户分成文件主、同组用户和一般用户三类，这三类用户的读&#x2F;写执行RWX 权限。</li>
<li>(3)使用信息类。文件建立日期、最后一次修改日期、最后一次访问的日期、当前使用的信息（如打开文件的进程数、在文件上的等待队列)等。</li>
</ul>
<p><strong>文件控制块的有序集合称为文件目录。</strong></p>
<p>相对路径：是从<strong>当前路径开始</strong>的路径。<br>绝对路径：是<strong>从根目录开</strong>始的路径。<br>全文件名&#x3D;<strong>绝对路径+文件名</strong>。要注意，绝对路径和相对路径是不加最后的文件名的，只是单纯的路径序列。</p>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/3ea69ae9b9c1fa7caa37f67e35ad7204_MD5.png" srcset="/img/loading.gif" lazyload alt="3ea69ae9b9c1fa7caa37f67e35ad7204_MD5"></p>
<p>考试真题：</p>
<p><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/1-720230910-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86.png" srcset="/img/loading.gif" lazyload alt="1-720230910-系统架构设计师_操作系统知识"></p>
<h4 id="文件存储空间管理"><a href="#文件存储空间管理" class="headerlink" title="文件存储空间管理"></a>文件存储空间管理</h4><p>文件的存取方法是<strong>指读&#x2F;写文件存储器上的一个物理块的方法</strong>。通常有顺序存取和随机存取两种方法。<br>顺序存取方法是指对文件中的信息按顺序依次进行读&#x2F;写；<br>随机存取方法是指对文件中的信息可以按任意的次序随机地读&#x2F;写。</p>
<p>文件存储空间的管理：</p>
<p>(1)空闲区表。</p>
<p>将外存空间上的一个连续的未分配区域称为“空闲区”。操作系统为磁盘外存上的所有空闲区建立一张空闲表，每个表项对应一个空闲区，适用于连续文件结构。<br><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/186ab231c21c70f41fc23e8f18e4d9b6_MD5.png" srcset="/img/loading.gif" lazyload alt="186ab231c21c70f41fc23e8f18e4d9b6_MD5"><br>(2)位示图。</p>
<p>这种方法是在外存上建立一张位示图(Bitmap),记录文件存储器的使用情况。<strong>每一位对应文件存储器上的一个物理块，取值0和1分别表示空闲和占用。</strong><br><img src="https://obsidian-picture.oss-cn-shenzhen.aliyuncs.com/luoblog/c3a22adcbc080791022d81ee80e861c4_MD5.png" srcset="/img/loading.gif" lazyload alt="c3a22adcbc080791022d81ee80e861c4_MD5"></p>
<p>(3)空闲块链。</p>
<p>每个空闲物理块中有指向下一个空闲物理块的指针，所有空闲物理块构成一个链表，链表的头指针放在文件存储器的特定位置上（如管理块中)，不需要磁盘分配表，节省空间。</p>
<p>(4)成组链接法。<br>例如，在实现时系统将空闲块分成若干组，每100个空闲块为一组，每组的第一个空闲块登记了下一组空闲块的物理盘块号和空闲块总数。假如某个组的第一个空闲块号等于0，意味着该组是最后一组，无下一组空闲块。</p>
<hr>
<p>考试真题：</p>
<p>某文件管理系统采用位示图(bitmap)记录磁盘的使用情况。如果系统的字长为32位，磁盘物理块的大小为4MB,<br>物理块依次编号为：0、1、2、….. ；位示图字依次编号为：0、1、2、…..，那么16385号物理块的使用情况在位示图中的第(25)个字中描述：如果磁盘的容量为1000GB,那么位示图需要(26)个字来表示。</p>
<p>(25)</p>
<ul>
<li>A.-128</li>
<li>B.256</li>
<li>C.512</li>
<li>D.1024</li>
</ul>
<p>(26)</p>
<ul>
<li>A. 1200</li>
<li>B. 3200</li>
<li>C. 6400</li>
<li>D. 8000</li>
</ul>
<p>答案：C   D</p>
<p>解析：在位示图中，一个物理块占1个字中的1位，第16385占到16386位（从0编号)，16386&#x2F;32&#x3D;512余数2，可知，其在513个字中描述，但因为从0开始编号，是第512个字；<br>磁盘容量 1000GB,共1000GB&#x2F;4MB&#x3D;250 * 1024个物理块，需要250Kb表示，即250 * 1024bit&#x2F;32bit&#x3D;8000个字。</p>
<p>解答：第二问：先看系统中有多少个磁盘物理块，每一个大小是 4MB，使用 1000GB除以 4 MB &#x3D; 250 * 1024 个物理块，单位是 bit ，再除以 32 bit ；<br>答案是 8000；（解答过程看上面解析）<br>第一问：看上面解析。</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E8%80%83%E8%AF%81/" class="category-chain-item">考证</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%A4%87%E8%80%83-%E8%BD%AF%E8%80%83/" class="print-no-link">#备考/软考</a>
      
        <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" class="print-no-link">#计算机/操作系统</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>操作系统知识</div>
      <div>https://varcel.luoqi.icu/2024/09/12/02_操作系统知识/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Luo QI</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年9月12日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/09/12/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/" title="数据库系统">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">数据库系统</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/09/01/%E8%AE%B0%E5%BD%95%E4%B8%80%E4%BA%9B%E8%BF%98%E4%B8%8D%E9%94%99%E7%9A%84%E6%96%87%E7%AB%A0/" title="记录一些还不错的文章">
                        <span class="hidden-mobile">记录一些还不错的文章</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <div style="font-size: 0.85rem"> <span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span> <script src="/js/duration.js"></script> </div> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
